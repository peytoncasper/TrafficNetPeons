<!DOCTYPE html>
<html>
<head>
{#<title> Login </title>#}
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>

<script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"> </script>
<style>
    .modal {
        width: 650px;
        height: 650px;
        position: absolute;
        left: 50%;
        top: 50%;
        margin-left: -320px;
        margin-top: -200px;
    }
.vertical-center {
  min-height: 100%;  /* Fallback for browsers do NOT support vh unit */
  min-height: 100vh; /* These two lines are counted as one :-)       */

  display: flex;
  align-items: center;
}
</style>

</head>
<body>
<center> <img style="padding-top:5px" src="http://static1.squarespace.com/static/54d90fe2e4b0a1728dab4782/t/54f5e107e4b0625e8c514983/1447185712861/?format=1500w"/> </center>

<div class="modal fade" id="loginModal">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">Login</h4>
      </div>
      <div class="modal-body">

        <form>
            <div class="form-group">
                <input type="text" class="form-control input" id="username" placeholder="Username">
            </div>

            <div class="form-group">
                <input type="password" class="form-control input" id="password" placeholder="Password">
            </div>

            <div class="form-group">
                <input type="text" class="form-control input" id="ipAddress" placeholder="IP Address">
            </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="login">Login</button>
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="jumbotron vertical-center" style="background-color:#ffffff" id="videoVLC"> <!--
                      ^--- Added class  -->
  <div class="container">
      <div class="row">
          <div class="col-md-8">


        <div id="cctv-container">
          <object classid="clsid:9BE31822-FDAD-461B-AD51-BE1D1C159921" codebase="http://downloads.videolan.org/pub/videolan/vlc/latest/win32/axvlc.cab" id="vlc" events="True" width="640" height="480">
            <param id="nameParam" name="Src" value=""/>
            <param name="ShowDisplay" value="True"/>
            <param name="AutoLoop" value="False"/>
            <param name="AutoPlay" value="True"/>
            <embed id="vlcEmb" type="application/x-google-vlc-plugin" version="VideoLAN.VLCPlugin.2" autoplay="yes" loop="no" target="rtsp://192.168.1.220:8554/" width="640" height="480"/>
          </object>
        </div>
      </div>
      <div class="col-md-4">
          <button type="button" style="margin-left:44px; margin-bottom:4px" class="btn btn-default" aria-label="Up">
              <span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span>
          </button>
          </br>
          <button type="button" class="btn btn-default" aria-label="Up">
              <span class="glyphicon glyphicon-arrow-left" aria-hidden="true"></span>
          </button>
          <button type="button" class="btn btn-default" aria-label="Up">
              <span class="glyphicon glyphicon-home" aria-hidden="true"></span>
          </button>
          <button type="button" class="btn btn-default" aria-label="Up">
              <span class="glyphicon glyphicon-arrow-right" aria-hidden="true"></span>
          </button>
          </br>
          <button type="button" style="margin-left:44px; margin-top:4px" class="btn btn-default" aria-label="Up">
              <span class="glyphicon glyphicon-arrow-down" aria-hidden="true"></span>
          </button>
      </div>
  </div>
</div>
  </div>
</div>


<script type="text/javascript">
    $(window).load(function(){
        $('#loginModal').modal('show');
        $("#videoVLC").hide()

    });
    $("#login").on("click", function(){
            $.ajax({
            url: 'http://' + $("#ipAddress").val() + ':5000/validate_login_camera_url',
            data: {
                'username': $("#username").val(),
                'password': $("#password").val()
            },
            success:function(ip){
                $('#loginModal').modal('hide');
                $("#nameParam").attr("value", "rtsp://" + ip + ":8554/")
                $("#vlcEmb").attr("target", "rtsp://" + ip + ":8554/")

                $("#videoVLC").show()


            }
        })
    })

</script>

</body>
</html>
{##}

<script type="text/javascript">

// do something.
// e.g. vlc.playlist.play();
</script>
